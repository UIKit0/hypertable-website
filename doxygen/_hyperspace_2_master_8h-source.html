<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>hypertable: /Users/doug/src/hypertable/src/cc/Hyperspace/Master.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
  </ul>
</div>
<div class="nav">
<a class="el" href="dir_9e51036813d6151dfecc72d5fa7c02b3.html">Users</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_5708de38a757cb70589c505d18009990.html">doug</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_a5f6cd2e2a2b5320bbe75e5c719f1fee.html">src</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_752ad1e2f45ee7988941467b4eccee0e.html">hypertable</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_9031e3d7c38caf639b0143600d70b482.html">src</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_f5aae9766518c5969fd00e3382787720.html">cc</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_baadc7c4b53cf4594df7618997f6c732.html">Hyperspace</a></div>
<h1>Master.h</h1><a href="_hyperspace_2_master_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00022"></a>00022 <span class="preprocessor">#ifndef HYPERSPACE_MASTER_H</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span><span class="preprocessor">#define HYPERSPACE_MASTER_H</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;queue&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;boost/thread/mutex.hpp&gt;</span>
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 <span class="preprocessor">#include "<a class="code" href="atomic_8h.html">Common/atomic.h</a>"</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include "<a class="code" href="_properties_8h.html">Common/Properties.h</a>"</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include "<a class="code" href="_reference_count_8h.html">Common/ReferenceCount.h</a>"</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include "<a class="code" href="_sock_addr_map_8h.html">Common/SockAddrMap.h</a>"</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include "<a class="code" href="_string_ext_8h.html">Common/StringExt.h</a>"</span>
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 <span class="preprocessor">#include "<a class="code" href="_comm_8h.html">AsyncComm/Comm.h</a>"</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include "<a class="code" href="_connection_manager_8h.html">AsyncComm/ConnectionManager.h</a>"</span>
<a name="l00038"></a>00038 <span class="preprocessor">#include "<a class="code" href="_async_comm_2_event_8h.html">AsyncComm/Event.h</a>"</span>
<a name="l00039"></a>00039 <span class="preprocessor">#include "<a class="code" href="_response_callback_8h.html">AsyncComm/ResponseCallback.h</a>"</span>
<a name="l00040"></a>00040 
<a name="l00041"></a>00041 <span class="preprocessor">#include "<a class="code" href="_node_data_8h.html">NodeData.h</a>"</span>
<a name="l00042"></a>00042 <span class="preprocessor">#include "<a class="code" href="_handle_data_8h.html">HandleData.h</a>"</span>
<a name="l00043"></a>00043 <span class="preprocessor">#include "<a class="code" href="_hyperspace_2_protocol_8h.html">Protocol.h</a>"</span>
<a name="l00044"></a>00044 <span class="preprocessor">#include "<a class="code" href="_hyperspace_2_response_callback_open_8h.html">ResponseCallbackOpen.h</a>"</span>
<a name="l00045"></a>00045 <span class="preprocessor">#include "<a class="code" href="_hyperspace_2_response_callback_exists_8h.html">ResponseCallbackExists.h</a>"</span>
<a name="l00046"></a>00046 <span class="preprocessor">#include "<a class="code" href="_response_callback_attr_get_8h.html">ResponseCallbackAttrGet.h</a>"</span>
<a name="l00047"></a>00047 <span class="preprocessor">#include "<a class="code" href="_response_callback_lock_8h.html">ResponseCallbackLock.h</a>"</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include "<a class="code" href="_hyperspace_2_response_callback_readdir_8h.html">ResponseCallbackReaddir.h</a>"</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include "<a class="code" href="_server_keepalive_handler_8h.html">ServerKeepaliveHandler.h</a>"</span>
<a name="l00050"></a>00050 <span class="preprocessor">#include "<a class="code" href="_session_data_8h.html">SessionData.h</a>"</span>
<a name="l00051"></a>00051 
<a name="l00052"></a>00052 <span class="keyword">using namespace </span>Hypertable;
<a name="l00053"></a>00053 
<a name="l00054"></a>00054 <span class="keyword">namespace </span>Hyperspace {
<a name="l00055"></a>00055 
<a name="l00056"></a><a class="code" href="class_hyperspace_1_1_master.html">00056</a>   <span class="keyword">class </span><a class="code" href="class_hyperspace_1_1_master.html">Master</a> : <span class="keyword">public</span> <a class="code" href="class_hypertable_1_1_reference_count.html" title="This class is meant to be a base class for all classes that want to be referenced...">ReferenceCount</a> {
<a name="l00057"></a>00057   <span class="keyword">public</span>:
<a name="l00058"></a>00058 
<a name="l00059"></a><a class="code" href="class_hyperspace_1_1_master.html#359887d9840acd73850aafa567ef0034">00059</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint32_t <a class="code" href="class_hyperspace_1_1_master.html#359887d9840acd73850aafa567ef0034">DEFAULT_MASTER_PORT</a>        = 38040;
<a name="l00060"></a><a class="code" href="class_hyperspace_1_1_master.html#85ba0ea52e3bcd34e7ea1696d5e37d7b">00060</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint32_t <a class="code" href="class_hyperspace_1_1_master.html#85ba0ea52e3bcd34e7ea1696d5e37d7b">DEFAULT_LEASE_INTERVAL</a>     = 20;
<a name="l00061"></a><a class="code" href="class_hyperspace_1_1_master.html#5e0f7d47fdda5ded7aa6a9ba6d4598a1">00061</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint32_t <a class="code" href="class_hyperspace_1_1_master.html#5e0f7d47fdda5ded7aa6a9ba6d4598a1">DEFAULT_KEEPALIVE_INTERVAL</a> = 10;
<a name="l00062"></a><a class="code" href="class_hyperspace_1_1_master.html#cf90a54ef7fed716c9300bf109d8c400">00062</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint32_t <a class="code" href="class_hyperspace_1_1_master.html#cf90a54ef7fed716c9300bf109d8c400">DEFAULT_GRACEPERIOD</a>        = 60;
<a name="l00063"></a>00063 
<a name="l00064"></a>00064     <a class="code" href="class_hyperspace_1_1_master.html#956af82223217fe754110710258621d3" title="This constructor reads the properties file and pulls out some relevant properties...">Master</a>(<a class="code" href="namespace_hypertable.html#e048a08bc9bd9505788d6e5823c948ae">ConnectionManagerPtr</a> &amp;connManagerPtr, <a class="code" href="namespace_hypertable.html#8c3eeb0c64dcf09ba41222b111894c12">PropertiesPtr</a> &amp;propsPtr, <a class="code" href="namespace_hyperspace.html#3e886fe6754f12ba9f134097157d2673">ServerKeepaliveHandlerPtr</a> &amp;keepaliveHandlerPtr);
<a name="l00065"></a>00065     <a class="code" href="class_hyperspace_1_1_master.html#20f70958ed75532ba672af1b780f59eb">~Master</a>();
<a name="l00066"></a>00066 
<a name="l00067"></a>00067     <span class="keywordtype">void</span> <a class="code" href="class_hyperspace_1_1_master.html#ad89f05cb7592ad720d9bd6b4ae72a2b" title="This method creates a directory with absolute path &amp;#39;name&amp;#39;.">mkdir</a>(<a class="code" href="class_hypertable_1_1_response_callback.html" title="This class is used to deliver responses, corresponding to a request, back to a client...">ResponseCallback</a> *cb, uint64_t sessionId, <span class="keyword">const</span> <span class="keywordtype">char</span> *name);
<a name="l00068"></a>00068     <span class="keywordtype">void</span> <a class="code" href="class_hyperspace_1_1_master.html#79329c126c6ee68ebb62262b36831090" title="Delete.">unlink</a>(<a class="code" href="class_hypertable_1_1_response_callback.html" title="This class is used to deliver responses, corresponding to a request, back to a client...">ResponseCallback</a> *cb, uint64_t sessionId, <span class="keyword">const</span> <span class="keywordtype">char</span> *name);
<a name="l00069"></a>00069     <span class="keywordtype">void</span> <a class="code" href="class_hyperspace_1_1_master.html#3450dd11430c81890fe28a463a45dff3" title="Open.">open</a>(<a class="code" href="class_hyperspace_1_1_response_callback_open.html">ResponseCallbackOpen</a> *cb, uint64_t sessionId, <span class="keyword">const</span> <span class="keywordtype">char</span> *name, uint32_t flags, uint32_t eventMask, std::vector&lt;AttributeT&gt; &amp;initAttrs);
<a name="l00070"></a>00070     <span class="keywordtype">void</span> <a class="code" href="class_hyperspace_1_1_master.html#0e3ef8b78c4c8825a9ea7bcb769f552e">close</a>(<a class="code" href="class_hypertable_1_1_response_callback.html" title="This class is used to deliver responses, corresponding to a request, back to a client...">ResponseCallback</a> *cb, uint64_t sessionId, uint64_t handle);
<a name="l00071"></a>00071     <span class="keywordtype">void</span> <a class="code" href="class_hyperspace_1_1_master.html#d764f26d5cacaa788e65895a9bd3bea4">attr_set</a>(<a class="code" href="class_hypertable_1_1_response_callback.html" title="This class is used to deliver responses, corresponding to a request, back to a client...">ResponseCallback</a> *cb, uint64_t sessionId, uint64_t handle, <span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keyword">const</span> <span class="keywordtype">void</span> *value, <span class="keywordtype">size_t</span> valueLen);
<a name="l00072"></a>00072     <span class="keywordtype">void</span> <a class="code" href="class_hyperspace_1_1_master.html#ad7b4fca2da241c193b8e293b46f5702">attr_get</a>(<a class="code" href="class_hyperspace_1_1_response_callback_attr_get.html">ResponseCallbackAttrGet</a> *cb, uint64_t sessionId, uint64_t handle, <span class="keyword">const</span> <span class="keywordtype">char</span> *name);
<a name="l00073"></a>00073     <span class="keywordtype">void</span> <a class="code" href="class_hyperspace_1_1_master.html#57a190cc05b5852add1fb0aeb2928dbf">attr_del</a>(<a class="code" href="class_hypertable_1_1_response_callback.html" title="This class is used to deliver responses, corresponding to a request, back to a client...">ResponseCallback</a> *cb, uint64_t sessionId, uint64_t handle, <span class="keyword">const</span> <span class="keywordtype">char</span> *name);
<a name="l00074"></a>00074     <span class="keywordtype">void</span> <a class="code" href="class_hyperspace_1_1_master.html#73d483effd69e28848ae355c9d3fa3bb">exists</a>(<a class="code" href="class_hyperspace_1_1_response_callback_exists.html">ResponseCallbackExists</a> *cb, uint64_t sessionId, <span class="keyword">const</span> <span class="keywordtype">char</span> *name);
<a name="l00075"></a>00075     <span class="keywordtype">void</span> <a class="code" href="class_hyperspace_1_1_master.html#f94a0b1ff5f93b886e178ea5a88e02f2">readdir</a>(<a class="code" href="class_hyperspace_1_1_response_callback_readdir.html">ResponseCallbackReaddir</a> *cb, uint64_t sessionId, uint64_t handle);
<a name="l00076"></a>00076     <span class="keywordtype">void</span> <a class="code" href="class_hyperspace_1_1_master.html#d751999f9658f26d0ec873ea2c572b6c">lock</a>(<a class="code" href="class_hyperspace_1_1_response_callback_lock.html">ResponseCallbackLock</a> *cb, uint64_t sessionId, uint64_t handle, uint32_t mode, <span class="keywordtype">bool</span> tryAcquire);
<a name="l00077"></a>00077     <span class="keywordtype">void</span> <a class="code" href="class_hyperspace_1_1_master.html#cfa7143f16c6093ba80329ccd65bca66">release</a>(<a class="code" href="class_hypertable_1_1_response_callback.html" title="This class is used to deliver responses, corresponding to a request, back to a client...">ResponseCallback</a> *cb, uint64_t sessionId, uint64_t handle);
<a name="l00078"></a>00078 
<a name="l00086"></a>00086     uint64_t <a class="code" href="class_hyperspace_1_1_master.html#56daab02dae50f0b0facb14ba268911f" title="Creates a new session by allocating a new SessionData object, obtaining a new session...">create_session</a>(<span class="keyword">struct</span> sockaddr_in &amp;addr);
<a name="l00087"></a>00087 
<a name="l00095"></a>00095     <span class="keywordtype">bool</span> <a class="code" href="class_hyperspace_1_1_master.html#9ba969edf9f0eccac1ed2238dc524d42" title="Obtains the SessionData object for the given id from the session map.">get_session</a>(uint64_t sessionId, <a class="code" href="namespace_hyperspace.html#bf8a2306f11c783cfc4c53778e399a95">SessionDataPtr</a> &amp;sessionPtr);
<a name="l00096"></a>00096 
<a name="l00097"></a>00097     <span class="keywordtype">void</span> <a class="code" href="class_hyperspace_1_1_master.html#e0f0f5042b33d761466f71309951682a">destroy_session</a>(uint64_t sessionId);
<a name="l00098"></a>00098 
<a name="l00108"></a>00108     <span class="keywordtype">int</span> <a class="code" href="class_hyperspace_1_1_master.html#a603e0921663151fb1401e45b5fd9271" title="Attempts to renew the session lease for session with the given ID.">renew_session_lease</a>(uint64_t sessionId);
<a name="l00109"></a>00109 
<a name="l00110"></a>00110     <span class="keywordtype">bool</span> <a class="code" href="class_hyperspace_1_1_master.html#ef909ac89ebdd7ddb6d1d6cdd6617f96">next_expired_session</a>(<a class="code" href="namespace_hyperspace.html#bf8a2306f11c783cfc4c53778e399a95">SessionDataPtr</a> &amp;sessionPtr);
<a name="l00111"></a>00111     <span class="keywordtype">void</span> <a class="code" href="class_hyperspace_1_1_master.html#ff4b480032f1e1efeb10bb8276c00e57">remove_expired_sessions</a>();
<a name="l00112"></a>00112 
<a name="l00113"></a>00113     <span class="keywordtype">void</span> <a class="code" href="class_hyperspace_1_1_master.html#5e909d404b996afece1431c00e63e65b">create_handle</a>(uint64_t *handlep, <a class="code" href="namespace_hyperspace.html#10c2f43e6bf999559f90bad8c67500fc">HandleDataPtr</a> &amp;handlePtr);
<a name="l00114"></a>00114     <span class="keywordtype">bool</span> <a class="code" href="class_hyperspace_1_1_master.html#800dbc2eb68a553e25088c23c5382d78">get_handle_data</a>(uint64_t sessionId, <a class="code" href="namespace_hyperspace.html#10c2f43e6bf999559f90bad8c67500fc">HandleDataPtr</a> &amp;handlePtr);
<a name="l00115"></a>00115     <span class="keywordtype">bool</span> <a class="code" href="class_hyperspace_1_1_master.html#0cddc709db5afce8e1999104033bdade">remove_handle_data</a>(uint64_t sessionId, <a class="code" href="namespace_hyperspace.html#10c2f43e6bf999559f90bad8c67500fc">HandleDataPtr</a> &amp;handlePtr);
<a name="l00116"></a>00116 
<a name="l00117"></a><a class="code" href="class_hyperspace_1_1_master.html#c0e86bac801a18e7150a689264fcd2d7">00117</a>     <span class="keywordtype">void</span> <a class="code" href="class_hyperspace_1_1_master.html#c0e86bac801a18e7150a689264fcd2d7">get_datagram_send_address</a>(<span class="keyword">struct</span> sockaddr_in *addr) { memcpy(addr, &amp;<a class="code" href="class_hyperspace_1_1_master.html#5d57a150539189795c452165d8dd3615">m_local_addr</a>, <span class="keyword">sizeof</span>(<a class="code" href="class_hyperspace_1_1_master.html#5d57a150539189795c452165d8dd3615">m_local_addr</a>)); }
<a name="l00118"></a>00118 
<a name="l00119"></a>00119   <span class="keyword">private</span>:
<a name="l00120"></a>00120 
<a name="l00121"></a>00121     <span class="keywordtype">void</span> <a class="code" href="class_hyperspace_1_1_master.html#631dcd174faee7255073daf5ed8b719b" title="report_error">report_error</a>(<a class="code" href="class_hypertable_1_1_response_callback.html" title="This class is used to deliver responses, corresponding to a request, back to a client...">ResponseCallback</a> *cb);
<a name="l00122"></a>00122     <span class="keywordtype">void</span> <a class="code" href="class_hyperspace_1_1_master.html#5bc5eee8561b704ac258640b2ea49141">normalize_name</a>(std::string name, std::string &amp;normal);
<a name="l00123"></a>00123     <span class="keywordtype">void</span> <a class="code" href="class_hyperspace_1_1_master.html#6788b5933fb41311f3146522cfac221a" title="Assumes node is locked.">deliver_event_notifications</a>(<a class="code" href="class_hyperspace_1_1_node_data.html">NodeData</a> *node, <a class="code" href="namespace_hyperspace.html#5a0d997757fe62feaa83461afd2abe54">HyperspaceEventPtr</a> &amp;eventPtr, <span class="keywordtype">bool</span> waitForNotify=<span class="keyword">true</span>);
<a name="l00124"></a>00124     <span class="keywordtype">void</span> <a class="code" href="class_hyperspace_1_1_master.html#06888d56d30be847aeaaad824a3454d5" title="Assumes node is locked.">deliver_event_notification</a>(<a class="code" href="namespace_hyperspace.html#10c2f43e6bf999559f90bad8c67500fc">HandleDataPtr</a> &amp;handlePtr, <a class="code" href="namespace_hyperspace.html#5a0d997757fe62feaa83461afd2abe54">HyperspaceEventPtr</a> &amp;eventPtr, <span class="keywordtype">bool</span> waitForNotify=<span class="keyword">true</span>);
<a name="l00125"></a>00125 
<a name="l00138"></a>00138     <span class="keywordtype">bool</span> <a class="code" href="class_hyperspace_1_1_master.html#39e066b74760dda221432f001417fd76" title="Locates the parent &amp;#39;node&amp;#39; of the given pathname.">find_parent_node</a>(std::string normalName, <a class="code" href="namespace_hyperspace.html#ea6276fa0665b02c8f6f505c2255a2f1">NodeDataPtr</a> &amp;parentNodePtr, std::string &amp;childName);
<a name="l00139"></a>00139     <span class="keywordtype">bool</span> <a class="code" href="class_hyperspace_1_1_master.html#1fa21ff1fa94cab4baed30b36034b6f2">destroy_handle</a>(uint64_t handle, <span class="keywordtype">int</span> *errorp, std::string &amp;errMsg, <span class="keywordtype">bool</span> waitForNotify=<span class="keyword">true</span>);
<a name="l00140"></a>00140     <span class="keywordtype">void</span> <a class="code" href="class_hyperspace_1_1_master.html#a315368a161dd995dd04232e7d709de9">release_lock</a>(<a class="code" href="namespace_hyperspace.html#10c2f43e6bf999559f90bad8c67500fc">HandleDataPtr</a> &amp;handlePtr, <span class="keywordtype">bool</span> waitForNotify=<span class="keyword">true</span>);
<a name="l00141"></a>00141     <span class="keywordtype">void</span> <a class="code" href="class_hyperspace_1_1_master.html#ba41a14ec09b0a09b735bc498c2311f8" title="Assumes node is locked.">lock_handle</a>(<a class="code" href="namespace_hyperspace.html#10c2f43e6bf999559f90bad8c67500fc">HandleDataPtr</a> &amp;handlePtr, uint32_t mode);
<a name="l00142"></a>00142     <span class="keywordtype">void</span> <a class="code" href="class_hyperspace_1_1_master.html#e56e417cd8525554d81035c4f07acfc6" title="Assumes node is locked.">lock_handle_with_notification</a>(<a class="code" href="namespace_hyperspace.html#10c2f43e6bf999559f90bad8c67500fc">HandleDataPtr</a> &amp;handlePtr, uint32_t mode, <span class="keywordtype">bool</span> waitForNotify=<span class="keyword">true</span>);
<a name="l00143"></a>00143 
<a name="l00151"></a><a class="code" href="class_hyperspace_1_1_master.html#ff1ec2cfae047970907e8ae624320ae4">00151</a>     <span class="keywordtype">void</span> <a class="code" href="class_hyperspace_1_1_master.html#ff1ec2cfae047970907e8ae624320ae4" title="Safely obtains the node with the given pathname from the NodeMap, creating one and...">get_node</a>(std::string name, <a class="code" href="namespace_hyperspace.html#ea6276fa0665b02c8f6f505c2255a2f1">NodeDataPtr</a> &amp;nodePtr) {
<a name="l00152"></a>00152       boost::mutex::scoped_lock <a class="code" href="class_hyperspace_1_1_master.html#d751999f9658f26d0ec873ea2c572b6c">lock</a>(<a class="code" href="class_hyperspace_1_1_master.html#f551e5b32ccd050cb2e94ba84a53af2c">m_node_map_mutex</a>);
<a name="l00153"></a>00153       NodeMapT::iterator iter = <a class="code" href="class_hyperspace_1_1_master.html#cb4dd035d420703d7df1cf2a07a10773">m_node_map</a>.find(name);
<a name="l00154"></a>00154       <span class="keywordflow">if</span> (iter != <a class="code" href="class_hyperspace_1_1_master.html#cb4dd035d420703d7df1cf2a07a10773">m_node_map</a>.end()) {
<a name="l00155"></a>00155         nodePtr = (*iter).second;
<a name="l00156"></a>00156         <span class="keywordflow">return</span>;
<a name="l00157"></a>00157       }
<a name="l00158"></a>00158       nodePtr = <span class="keyword">new</span> <a class="code" href="class_hyperspace_1_1_node_data.html">NodeData</a>();
<a name="l00159"></a>00159       nodePtr-&gt;name = name;
<a name="l00160"></a>00160       <a class="code" href="class_hyperspace_1_1_master.html#cb4dd035d420703d7df1cf2a07a10773">m_node_map</a>[name] = nodePtr;
<a name="l00161"></a>00161     }
<a name="l00162"></a>00162 
<a name="l00163"></a><a class="code" href="class_hyperspace_1_1_master.html#6eebeb61cc16df6e68fbc61f39ade17a">00163</a>     <span class="keyword">typedef</span> hash_map&lt;std::string, NodeDataPtr&gt; <a class="code" href="class_hyperspace_1_1_master.html#6eebeb61cc16df6e68fbc61f39ade17a">NodeMapT</a>;
<a name="l00164"></a><a class="code" href="class_hyperspace_1_1_master.html#cf6538015f3e82a43612d556bae11084">00164</a>     <span class="keyword">typedef</span> hash_map&lt;uint64_t, HandleDataPtr&gt;  <a class="code" href="class_hyperspace_1_1_master.html#cf6538015f3e82a43612d556bae11084">HandleMapT</a>;
<a name="l00165"></a><a class="code" href="class_hyperspace_1_1_master.html#fdbe393584df7d2ce5cca04eb6464f1b">00165</a>     <span class="keyword">typedef</span> hash_map&lt;uint64_t, SessionDataPtr&gt; <a class="code" href="class_hyperspace_1_1_master.html#fdbe393584df7d2ce5cca04eb6464f1b">SessionMapT</a>;
<a name="l00166"></a>00166 
<a name="l00167"></a><a class="code" href="class_hyperspace_1_1_master.html#74924c1db7e0185ad3101079fe639193">00167</a>     <span class="keywordtype">bool</span>          <a class="code" href="class_hyperspace_1_1_master.html#74924c1db7e0185ad3101079fe639193">m_verbose</a>;
<a name="l00168"></a><a class="code" href="class_hyperspace_1_1_master.html#78f7694247f776086456eaaae1fefd5b">00168</a>     uint32_t      <a class="code" href="class_hyperspace_1_1_master.html#78f7694247f776086456eaaae1fefd5b">m_lease_interval</a>;
<a name="l00169"></a><a class="code" href="class_hyperspace_1_1_master.html#aa0d1cd2ea51b5ea02f4f2b2e48c7e23">00169</a>     uint32_t      <a class="code" href="class_hyperspace_1_1_master.html#aa0d1cd2ea51b5ea02f4f2b2e48c7e23">m_keep_alive_interval</a>;
<a name="l00170"></a><a class="code" href="class_hyperspace_1_1_master.html#cb4dd035d420703d7df1cf2a07a10773">00170</a>     <a class="code" href="class_hyperspace_1_1_master.html#6eebeb61cc16df6e68fbc61f39ade17a">NodeMapT</a>      <a class="code" href="class_hyperspace_1_1_master.html#cb4dd035d420703d7df1cf2a07a10773">m_node_map</a>;
<a name="l00171"></a><a class="code" href="class_hyperspace_1_1_master.html#2916c2864ab1fc4075d4ece0f517e345">00171</a>     <a class="code" href="class_hyperspace_1_1_master.html#cf6538015f3e82a43612d556bae11084">HandleMapT</a>    <a class="code" href="class_hyperspace_1_1_master.html#2916c2864ab1fc4075d4ece0f517e345">m_handle_map</a>;
<a name="l00172"></a><a class="code" href="class_hyperspace_1_1_master.html#84ec72b900ec1967ff488abf5675279b">00172</a>     <a class="code" href="class_hyperspace_1_1_master.html#fdbe393584df7d2ce5cca04eb6464f1b">SessionMapT</a>   <a class="code" href="class_hyperspace_1_1_master.html#84ec72b900ec1967ff488abf5675279b">m_session_map</a>;
<a name="l00173"></a><a class="code" href="class_hyperspace_1_1_master.html#f551e5b32ccd050cb2e94ba84a53af2c">00173</a>     boost::mutex  <a class="code" href="class_hyperspace_1_1_master.html#f551e5b32ccd050cb2e94ba84a53af2c">m_node_map_mutex</a>;
<a name="l00174"></a><a class="code" href="class_hyperspace_1_1_master.html#08708caf5e61a7ca0fd5194607c9d591">00174</a>     boost::mutex  <a class="code" href="class_hyperspace_1_1_master.html#08708caf5e61a7ca0fd5194607c9d591">m_handle_map_mutex</a>;
<a name="l00175"></a><a class="code" href="class_hyperspace_1_1_master.html#d278d8aafc97c4d91ca85bb1387591b7">00175</a>     boost::mutex  <a class="code" href="class_hyperspace_1_1_master.html#d278d8aafc97c4d91ca85bb1387591b7">m_session_map_mutex</a>;
<a name="l00176"></a><a class="code" href="class_hyperspace_1_1_master.html#6467ad31ce40d1d6349f65bea65710dc">00176</a>     std::string   <a class="code" href="class_hyperspace_1_1_master.html#6467ad31ce40d1d6349f65bea65710dc">m_base_dir</a>;
<a name="l00177"></a><a class="code" href="class_hyperspace_1_1_master.html#fa4b03cf5f97b0311bf2ff5caa71e9ca">00177</a>     <span class="keywordtype">int</span>           <a class="code" href="class_hyperspace_1_1_master.html#fa4b03cf5f97b0311bf2ff5caa71e9ca">m_base_fd</a>;
<a name="l00178"></a><a class="code" href="class_hyperspace_1_1_master.html#61be2490ab22f16ad3f77b30cf2ab387">00178</a>     uint32_t      <a class="code" href="class_hyperspace_1_1_master.html#61be2490ab22f16ad3f77b30cf2ab387">m_generation</a>;
<a name="l00179"></a><a class="code" href="class_hyperspace_1_1_master.html#380fec971fede649713239226a71c73c">00179</a>     uint64_t      <a class="code" href="class_hyperspace_1_1_master.html#380fec971fede649713239226a71c73c">m_next_handle_number</a>;
<a name="l00180"></a><a class="code" href="class_hyperspace_1_1_master.html#31fbb7aaa2a6575f541414c17e94036a">00180</a>     uint64_t      <a class="code" href="class_hyperspace_1_1_master.html#31fbb7aaa2a6575f541414c17e94036a">m_next_session_id</a>;
<a name="l00181"></a><a class="code" href="class_hyperspace_1_1_master.html#fc45c1592d3ac18c2d2812900c2e29c6">00181</a>     <a class="code" href="namespace_hyperspace.html#3e886fe6754f12ba9f134097157d2673">ServerKeepaliveHandlerPtr</a> <a class="code" href="class_hyperspace_1_1_master.html#fc45c1592d3ac18c2d2812900c2e29c6">m_keepalive_handler_ptr</a>;
<a name="l00182"></a><a class="code" href="class_hyperspace_1_1_master.html#5d57a150539189795c452165d8dd3615">00182</a>     <span class="keyword">struct </span>sockaddr_in <a class="code" href="class_hyperspace_1_1_master.html#5d57a150539189795c452165d8dd3615">m_local_addr</a>;
<a name="l00183"></a><a class="code" href="class_hyperspace_1_1_master.html#b5177498a5d3267ec14bbb36071e3006">00183</a>     std::vector&lt;SessionDataPtr&gt; <a class="code" href="class_hyperspace_1_1_master.html#b5177498a5d3267ec14bbb36071e3006">m_session_heap</a>;
<a name="l00184"></a>00184 
<a name="l00185"></a>00185   };
<a name="l00186"></a><a class="code" href="namespace_hyperspace.html#958cd34e946ce697f1382c5c145dd386">00186</a>   <span class="keyword">typedef</span> boost::intrusive_ptr&lt;Master&gt; <a class="code" href="namespace_hyperspace.html#958cd34e946ce697f1382c5c145dd386">MasterPtr</a>;
<a name="l00187"></a>00187 
<a name="l00188"></a>00188 }
<a name="l00189"></a>00189 
<a name="l00190"></a>00190 <span class="preprocessor">#endif // HYPERSPACE_MASTER_H</span>
</pre></div><hr size="1"><address style="text-align: right;"><small>Generated on Fri May 23 15:19:17 2008 for hypertable by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
