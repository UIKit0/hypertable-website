<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>hypertable: /Users/doug/src/hypertable/src/cc/Hypertable/RangeServer/CellStoreScannerV0.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
  </ul>
</div>
<div class="nav">
<a class="el" href="dir_9e51036813d6151dfecc72d5fa7c02b3.html">Users</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_5708de38a757cb70589c505d18009990.html">doug</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_a5f6cd2e2a2b5320bbe75e5c719f1fee.html">src</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_752ad1e2f45ee7988941467b4eccee0e.html">hypertable</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_9031e3d7c38caf639b0143600d70b482.html">src</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_f5aae9766518c5969fd00e3382787720.html">cc</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_3be4c2a439d9f674975a3d94c602c8e3.html">Hypertable</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_b6724abc6b41a2670a831834f82498af.html">RangeServer</a></div>
<h1>CellStoreScannerV0.h</h1><a href="_cell_store_scanner_v0_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00022"></a>00022 <span class="preprocessor">#ifndef HYPERTABLE_CELLSTORESCANNERVERSION1_H</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span><span class="preprocessor">#define HYPERTABLE_CELLSTORESCANNERVERSION1_H</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span>
<a name="l00025"></a>00025 <span class="preprocessor">#include "<a class="code" href="_dynamic_buffer_8h.html">Common/DynamicBuffer.h</a>"</span>
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="preprocessor">#include "<a class="code" href="_cell_store_v0_8h.html">CellStoreV0.h</a>"</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include "<a class="code" href="_cell_list_scanner_8h.html">CellListScanner.h</a>"</span>
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 <span class="keyword">namespace </span>Hypertable {
<a name="l00031"></a>00031 
<a name="l00032"></a>00032   <span class="keyword">class </span><a class="code" href="class_hypertable_1_1_block_compression_codec.html" title="Abstract base class for block compression codecs.">BlockCompressionCodec</a>;
<a name="l00033"></a>00033   <span class="keyword">class </span><a class="code" href="class_hypertable_1_1_cell_store.html" title="Abstract base class for persistent cell lists (ones that are stored on disk).">CellStore</a>;
<a name="l00034"></a>00034 
<a name="l00035"></a><a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html">00035</a>   <span class="keyword">class </span><a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html">CellStoreScannerV0</a> : <span class="keyword">public</span> <a class="code" href="class_hypertable_1_1_cell_list_scanner.html">CellListScanner</a> {
<a name="l00036"></a>00036   <span class="keyword">public</span>:
<a name="l00037"></a>00037     <a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#9ca460f6a87619654762ab39acf3ac08">CellStoreScannerV0</a>(<a class="code" href="namespace_hypertable.html#987bf177e7ff7cd6bd0a9157e020982b">CellStorePtr</a> &amp;cellStorePtr, <a class="code" href="namespace_hypertable.html#b197d8d73685b794df06287d394f4126">ScanContextPtr</a> &amp;scanContextPtr);
<a name="l00038"></a>00038     <span class="keyword">virtual</span> <a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#9da317ec99566e3276eb67e9d800f23e">~CellStoreScannerV0</a>();
<a name="l00039"></a>00039     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#1eb93c5419e6d5af7689ca630115663e">forward</a>();
<a name="l00040"></a>00040     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <span class="keyword">get</span>(<a class="code" href="class_hypertable_1_1_byte_string.html">ByteString</a> &amp;key, <a class="code" href="class_hypertable_1_1_byte_string.html">ByteString</a> &amp;value);
<a name="l00041"></a>00041 
<a name="l00042"></a>00042   <span class="keyword">private</span>:
<a name="l00043"></a>00043 
<a name="l00044"></a><a class="code" href="struct_hypertable_1_1_cell_store_scanner_v0_1_1_block_info_t.html">00044</a>     <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00045"></a><a class="code" href="struct_hypertable_1_1_cell_store_scanner_v0_1_1_block_info_t.html#695f3fe02cdcd270f1bcd9a36903764b">00045</a>       uint32_t <a class="code" href="code__search__and__replace_8cc.html#d5f0842c40c7e46344fd8df70187fa0f">offset</a>;
<a name="l00046"></a><a class="code" href="struct_hypertable_1_1_cell_store_scanner_v0_1_1_block_info_t.html#99f26a9b956dff8bb8b92b8402890ef1">00046</a>       uint32_t zlength;
<a name="l00047"></a><a class="code" href="struct_hypertable_1_1_cell_store_scanner_v0_1_1_block_info_t.html#9527f9548e70df45f7ff980ec82fb1b1">00047</a>       uint8_t *<a class="code" href="_range_server_8cc.html#dbd66ce89dbc0cb63e00b9e33b33ff26">base</a>;
<a name="l00048"></a><a class="code" href="struct_hypertable_1_1_cell_store_scanner_v0_1_1_block_info_t.html#1947aefd0fd2ce1283979030640a33b9">00048</a>       uint8_t *<a class="code" href="lzoconf_8h.html#edc63c09328e8dcce47e667c1cb0e36b">ptr</a>;
<a name="l00049"></a><a class="code" href="struct_hypertable_1_1_cell_store_scanner_v0_1_1_block_info_t.html#066fc86c6c370ef03742c7e50f2dfeef">00049</a>       uint8_t *<a class="code" href="_range_locator_8cc.html#8fd806ad19b8f5513a4cf18cbf77532c">end</a>;
<a name="l00050"></a>00050     } <a class="code" href="struct_hypertable_1_1_cell_store_scanner_v0_1_1_block_info_t.html">BlockInfoT</a>;
<a name="l00051"></a>00051 
<a name="l00052"></a>00052     <span class="keywordtype">bool</span> <a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#a8704d8183c940f5e82c6306bb139249" title="This method fetches the &amp;#39;next&amp;#39; compressed block of key/value pairs from the...">fetch_next_block</a>();
<a name="l00053"></a>00053     <span class="keywordtype">bool</span> <a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#a8e8ab746aac86ace111472e8db5935d" title="This method fetches the &amp;#39;next&amp;#39; compressed block of key/value pairs from the...">fetch_next_block_readahead</a>();
<a name="l00054"></a>00054     <span class="keywordtype">bool</span> <a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#336a732826e995e95cfa416d49de0bcd">initialize</a>();
<a name="l00055"></a>00055 
<a name="l00056"></a><a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#b1643d55bcfd888e2420e5794e97e1de">00056</a>     <a class="code" href="namespace_hypertable.html#987bf177e7ff7cd6bd0a9157e020982b">CellStorePtr</a>            <a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#b1643d55bcfd888e2420e5794e97e1de">m_cell_store_ptr</a>;
<a name="l00057"></a><a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#0068c0fdbf082995a25fef575e683127">00057</a>     <a class="code" href="class_hypertable_1_1_cell_store_v0.html">CellStoreV0</a>            *<a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#0068c0fdbf082995a25fef575e683127">m_cell_store_v0</a>;
<a name="l00058"></a><a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#64d30ce4ca676e7e9dc398e8fe97e16f">00058</a>     <a class="code" href="class_hypertable_1_1_cell_store_v0.html#7c9ad86a1a95e1ffd9af16eee4cc6d31">CellStoreV0::IndexMapT</a> &amp;<a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#64d30ce4ca676e7e9dc398e8fe97e16f">m_index</a>;
<a name="l00059"></a>00059 
<a name="l00060"></a><a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#ae7e0075195948175a726f774aa3281b">00060</a>     CellStoreV0::IndexMapT::iterator <a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#ae7e0075195948175a726f774aa3281b">m_iter</a>;
<a name="l00061"></a><a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#70e1ff53653f4f3dcf3fa4f6203bcfec">00061</a>     CellStoreV0::IndexMapT::iterator <a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#70e1ff53653f4f3dcf3fa4f6203bcfec">m_end_iter</a>;
<a name="l00062"></a>00062 
<a name="l00063"></a><a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#bbabb83805c30bc9f65a474aae978eb5">00063</a>     <a class="code" href="struct_hypertable_1_1_cell_store_scanner_v0_1_1_block_info_t.html">BlockInfoT</a>            <a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#bbabb83805c30bc9f65a474aae978eb5">m_block</a>;
<a name="l00064"></a><a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#c3edf305c5d3fdf78a2e01449b68cfea">00064</a>     <a class="code" href="class_hypertable_1_1_byte_string.html">ByteString</a>            <a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#c3edf305c5d3fdf78a2e01449b68cfea">m_cur_key</a>;
<a name="l00065"></a><a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#b638abc6ecfd89b999ff489505da6234">00065</a>     <a class="code" href="class_hypertable_1_1_byte_string.html">ByteString</a>            <a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#b638abc6ecfd89b999ff489505da6234">m_cur_value</a>;
<a name="l00066"></a><a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#9da2033c0d466f94d788c8c35128f04f">00066</a>     <a class="code" href="class_hypertable_1_1_block_compression_codec.html" title="Abstract base class for block compression codecs.">BlockCompressionCodec</a> *<a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#9da2033c0d466f94d788c8c35128f04f">m_zcodec</a>;
<a name="l00067"></a><a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#c5292b5463d164aee873288563a86b93">00067</a>     <span class="keywordtype">bool</span>                  <a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#c5292b5463d164aee873288563a86b93">m_check_for_range_end</a>;
<a name="l00068"></a><a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#c8126675bfd23fea37a74344fc30c773">00068</a>     <span class="keywordtype">bool</span>                  <a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#c8126675bfd23fea37a74344fc30c773">m_end_inclusive</a>;
<a name="l00069"></a><a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#269490af01d4b5fbf7dbe77e31cb504c">00069</a>     <span class="keywordtype">int</span>                   <a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#269490af01d4b5fbf7dbe77e31cb504c">m_file_id</a>;
<a name="l00070"></a><a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#27ec783f144caacbafbad8af7e2254ab">00070</a>     std::string           <a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#27ec783f144caacbafbad8af7e2254ab">m_start_row</a>;
<a name="l00071"></a><a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#6ae01fc69e482ec65ffbe9a1ab58954c">00071</a>     std::string           <a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#6ae01fc69e482ec65ffbe9a1ab58954c">m_end_row</a>;
<a name="l00072"></a><a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#9068aea5e86c258459feb5827e381d6a">00072</a>     <span class="keywordtype">bool</span>                  <a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#9068aea5e86c258459feb5827e381d6a">m_readahead</a>;
<a name="l00073"></a><a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#dedda56bbaa1ec7cb99ab2e809f317d7">00073</a>     int32_t               <a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#dedda56bbaa1ec7cb99ab2e809f317d7">m_fd</a>;
<a name="l00074"></a><a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#b581925dd3dc4a15dac7c13ed89cba1a">00074</a>     uint32_t              <a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#b581925dd3dc4a15dac7c13ed89cba1a">m_start_offset</a>;
<a name="l00075"></a><a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#813e200c03f729e788da9246e353d4f5">00075</a>     uint32_t              <a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#813e200c03f729e788da9246e353d4f5">m_end_offset</a>;
<a name="l00076"></a><a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#511f940831029310ef338e547a1ea9f4">00076</a>     uint32_t              <a class="code" href="class_hypertable_1_1_cell_store_scanner_v0.html#511f940831029310ef338e547a1ea9f4">m_returned</a>;
<a name="l00077"></a>00077   };
<a name="l00078"></a>00078 
<a name="l00079"></a>00079 }
<a name="l00080"></a>00080 
<a name="l00081"></a>00081 <span class="preprocessor">#endif // HYPERTABLE_CELLSTORESCANNERVERSION1_H</span>
<a name="l00082"></a>00082 <span class="preprocessor"></span>
</pre></div><hr size="1"><address style="text-align: right;"><small>Generated on Fri May 23 14:50:29 2008 for hypertable by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
